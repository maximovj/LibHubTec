@if (isValidCode()) {
  <form
  [formGroup]="myForm"
  (ngSubmit)="onSubmit()"
  >
    <label for="new_password" class="block text-900 font-medium mb-2">Nueva contraseña</label>
    <p-password
      formControlName="new_password"
      [toggleMask]="true"
      class="w-full"
      styleClass="w-full mb-3"
      inputStyleClass="w-full"
    >
      <ng-template pTemplate="footer">
        <p-divider />
        <p class="mt-2">Sugerencias</p>
        <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
            <li>Use minúsculas</li>
            <li>Use mayúsculas</li>
            <li>Use números</li>
            <li>Use simbolos</li>
            <li>Mínimo 8 caracteres</li>
            <li>Máximo 30 caracteres</li>
        </ul>
      </ng-template>
    </p-password>

    <label for="confirm_password" class="block text-900 font-medium mb-2">Confirmar contraseña</label>
    <p-password
      formControlName="confirm_password"
      [toggleMask]="true"
      class="w-full"
      styleClass="w-full mb-3"
      inputStyleClass="w-full"
    >
      <ng-template pTemplate="footer">
        <p-divider />
        <p class="mt-2">Sugerencias</p>
        <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
            <li>Use minúsculas</li>
            <li>Use mayúsculas</li>
            <li>Use números</li>
            <li>Use simbolos</li>
            <li>Mínimo 8 caracteres</li>
            <li>Máximo 30 caracteres</li>
        </ul>
      </ng-template>
    </p-password>

    <div class="mb-6"></div>

    @if (getQuery()) {
      <div class="flex flex-row justify-content-center  align-items-center">
        <p-progressSpinner ariaLabel="loading" />
      </div>
    } @else {
      <button
      label="Establecer contraseña"
      class="w-full" pButton pRipple>
      </button>
    }
  </form>
} @else {
  <div
  class="flex flex-column justify-content-center align-items-center"
  >
    <p>Ingrese el código para recuperar tu cuenta</p>

    <label class="block text-900 font-medium mb-2">Código</label>
    <p-inputOtp [(ngModel)]="code" [length]="5" class="mb-3" />

    <div class=" mb-6"></div>

    <button
    (click)="btnValidateCode()"
    label="Confirmar código"
    class="w-full" pButton pRipple>
    </button>
  </div>
}
